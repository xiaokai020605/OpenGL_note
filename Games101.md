# 光栅化(Rasterization)
- 将物体像素画到屏幕的过程
## 透视投影所需
### field-of-view(fovY)垂直可视角度
![[fovY.png]]
- 两条红线所形成的夹角
	- 广角：就是可视角度张的比较大
- 还可以设置**fovX**也就是设置水平的可视角度
### 长宽比
- 用来显示所需的**画面大小**，例如16：9这种
- ![[推导式.png]]
- 可以相互转换使用两个格式$\tan \frac{fovY}{2}=\frac{t}{|n|}$和$aspect=\frac{r}{t}$ 
## 转换到屏幕上/视口变换
- 屏幕定义从左下角0.0坐标开始到width，height坐标
- 将原本的[ -1,1 ] ^3 的立方体转换到[ 0,width ]x [ 0, height ]的屏幕上
- 先忽略原本的cube的z轴
- 视口变换矩阵：$M_{\text{viewport}} = \begin{bmatrix} \frac{\text{width}}{2} & 0 & 0 & \frac{\text{width}}{2} \\ 0 & \frac{\text{height}}{2} & 0 & \frac{\text{height}}{2} \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1 \end{bmatrix}$ 
## 采样(Sampling)
- 假设一个三角形在一个**像素点内**占用了一半的空间，该如何去分辨该像素的颜色是什么样的，或者如何判断==一个像素和三角形的位置关系== 
- 所以我们需要一个方法来解决这个问题---*采样*
	- 不停的判断像素的中心是不是在三角形内--**inside(t,x,y)** 函数
	- 如何判断？---使用向量叉乘，使用一个已知向量的起始点和所要求的点**建立一个向量**，将这两个向量进行叉乘，*查看结果值是**正还是负*** 正为左侧，负为右侧。
		- 如果三角形的所有向量叉乘该点**均在一侧**说明该点在三角形内
		- 要定义一个链接顺序关于三角形的----**逆时针/顺时针** 
### Boundiong Box
![[Bound ing Box.png]]
- 包围三角形的边界盒，当进行计算像素点是否在三角形内的时候可以节省空间，不用全屏判断了









